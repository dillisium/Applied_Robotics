(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af2f1c00"],{"0f98":function(e,t,c){},"257b":function(e,t,c){"use strict";var a=c("7a23"),n=Object(a["G"])("data-v-0e102768");Object(a["u"])("data-v-0e102768");var s={key:0,class:"JoyStick"},d={key:0,class:"key up"},i={key:1,class:"key left"},o={key:2,class:"key right"},r={key:3,class:"key down"},l={key:0,class:"fa fa-angle-down"},b={key:1,class:"fa fa-angle-up"},u={key:1,class:"JoyStick"},O={key:0,class:"key up"},j=Object(a["g"])("i",{class:"fa fa-angle-up"},null,-1),v={key:1,class:"key left"},f=Object(a["g"])("i",{class:"fa fa-angle-left"},null,-1),k={key:2,class:"key right"},y=Object(a["g"])("i",{class:"fa fa-angle-right"},null,-1),w={key:3,class:"key down"},p=Object(a["g"])("i",{class:"fa fa-angle-down"},null,-1),g=Object(a["g"])("div",{class:"f-button"},null,-1),m={key:2,class:"usbStickAlert"},A=Object(a["g"])("i",{class:"fa fa-gamepad"},null,-1);Object(a["s"])();var h=n((function(e,t,c,n,h,S){return Object(a["r"])(),Object(a["d"])("div",{class:["KeyboardJoystick",{stickOn:e.keyboardJoystickOn||e.usbJoystickOn}]},[e.keyboardJoystickOn||e.usbJoystickOn?(Object(a["r"])(),Object(a["d"])("div",s,[e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",d,"W")),e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",i,"A")),e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",o,"D")),e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",r,"S")),Object(a["g"])("div",{class:"rod",style:e.leftRodStyle},null,4)])):Object(a["e"])("",!0),Object(a["g"])("div",{class:"extendButton",onClick:t[1]||(t[1]=function(t){return e.extendButtonOn=!e.extendButtonOn})},[e.extendButtonOn?(Object(a["r"])(),Object(a["d"])("i",l)):(Object(a["r"])(),Object(a["d"])("i",b))]),e.keyboardJoystickOn||e.usbJoystickOn?(Object(a["r"])(),Object(a["d"])("div",u,[e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",O,[j])),e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",v,[f])),e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",k,[y])),e.usbJoystickOn?Object(a["e"])("",!0):(Object(a["r"])(),Object(a["d"])("div",w,[p])),Object(a["g"])("div",{class:"rod",style:e.rightRodStyle},null,4)])):Object(a["e"])("",!0),Object(a["g"])("div",{class:["extendMenu",{extended:e.extendButtonOn}]},[Object(a["g"])("div",{class:"f-button",onClick:t[2]||(t[2]=function(t){return e.handleKey("dance1")})},Object(a["A"])(e.i18n.$t("Dance1")),1),Object(a["g"])("div",{class:"f-button",onClick:t[3]||(t[3]=function(t){return e.handleKey("dance2")})},Object(a["A"])(e.i18n.$t("Dance2")),1),Object(a["g"])("div",{class:"f-button",onClick:t[4]||(t[4]=function(t){return e.handleKey("straightHand1")})},Object(a["A"])(e.i18n.$t("Praying")),1),Object(a["g"])("div",{class:"f-button",onClick:t[5]||(t[5]=function(t){return e.handleKey("damping")})},Object(a["A"])(e.i18n.$t("Damping")),1),Object(a["g"])("div",{class:"f-button",onClick:t[6]||(t[6]=function(t){return e.handleKey("standUp")})},Object(a["A"])(e.i18n.$t("StandUp")),1),Object(a["g"])("div",{class:"f-button",onClick:t[7]||(t[7]=function(t){return e.handleKey("standDown")})},Object(a["A"])(e.i18n.$t("StandDown")),1),Object(a["g"])("div",{class:"f-button",onClick:t[8]||(t[8]=function(t){return e.handleKey("recoverStand")})},Object(a["A"])(e.i18n.$t("Recover")),1),Object(a["g"])("div",{class:"f-button",onClick:t[9]||(t[9]=function(t){return e.handleKey("stand")})},Object(a["A"])(e.i18n.$t("Stand")),1),Object(a["g"])("div",{class:"f-button",onClick:t[10]||(t[10]=function(t){return e.handleKey("walk")})},Object(a["A"])(e.i18n.$t("Walk")),1),Object(a["g"])("div",{class:"f-button",onClick:t[11]||(t[11]=function(t){return e.handleKey("run")})},Object(a["A"])(e.i18n.$t("Run")),1),Object(a["g"])("div",{class:"f-button",onClick:t[12]||(t[12]=function(t){return e.handleKey("climb")})},Object(a["A"])(e.i18n.$t("Climb")),1),g],2),e.usbStickAlertOn?(Object(a["r"])(),Object(a["d"])("div",m,[A,Object(a["f"])("Â  "+Object(a["A"])(e.i18n.$t("USBGamepadOn")),1)])):Object(a["e"])("",!0)],2)})),S=c("3616"),P=Object(a["h"])({name:"KeyboardJoystick",props:{keyboardJoystickOn:Boolean},setup:function(e,t){var c=S["a"].use(),n=Object(a["w"])(!1),s=Object(a["w"])(!1),d=Object(a["w"])(0),i=Object(a["w"])(0),o=Object(a["w"])(0),r=Object(a["w"])(0),l=Object(a["w"])(!1),b={wPressed:0,aPressed:0,sPressed:0,dPressed:0,upPressed:0,leftPressed:0,downPressed:0,rightPressed:0,spacePressed:0},u=Object(a["b"])((function(){return{left:"calc("+(35*(1+d.value)+15)+"% - 15px)",top:"calc("+(35*(1-i.value)+15)+"% - 15px)"}})),O=Object(a["b"])((function(){return{left:"calc("+(35*(1+o.value)+15)+"% - 15px)",top:"calc("+(35*(1-r.value)+15)+"% - 15px)"}})),j=function(e){t.emit("key-update",e)},v=function(e){var t="keydown"===e.type?1:0;switch(e.key){case" ":b.spacePressed=t;break;case"w":b.wPressed=t;break;case"a":b.aPressed=t;break;case"s":b.sPressed=t;break;case"d":b.dPressed=t;break;case"ArrowUp":b.upPressed=t;break;case"ArrowLeft":b.leftPressed=t;break;case"ArrowDown":b.downPressed=t;break;case"ArrowRight":b.rightPressed=t;break;default:break}},f=function(){n.value=!0,s.value=!0,setTimeout((function(){s.value=!1}),3e3)},k=function(){n.value=!1},y=0,w=function(e,t,c){var a=.08*Math.abs(e)+.01,n=e+t*a-c*a,s=n>1?1:n<-1?-1:n;return b.spacePressed||t||c?s:0};return Object(a["p"])((function(){window.addEventListener("keydown",v),window.addEventListener("keyup",v),window.addEventListener("gamepadconnected",f),window.addEventListener("gamepaddisconnected",k),y=window.setInterval((function(){if(n.value){var c=navigator.getGamepads()[0];c&&4===c.axes.length&&(d.value=c.axes[0],i.value=-c.axes[1],o.value=c.axes[2],r.value=-c.axes[3],t.emit("stick-update",{lx:d.value,ly:i.value,rx:o.value,ry:r.value}))}else e.keyboardJoystickOn&&(d.value=w(d.value,b.dPressed,b.aPressed),i.value=w(i.value,b.wPressed,b.sPressed),o.value=w(o.value,b.rightPressed,b.leftPressed),r.value=w(r.value,b.upPressed,b.downPressed),t.emit("stick-update",{lx:d.value,ly:i.value,rx:o.value,ry:r.value}))}),30)})),Object(a["n"])((function(){window.removeEventListener("keydown",v),window.removeEventListener("keyup",v),window.removeEventListener("gamepadconnected",f),window.removeEventListener("gamepaddisconnected",k),window.clearInterval(y)})),{lx:d,ly:i,rx:o,ry:r,rightRodStyle:O,leftRodStyle:u,extendButtonOn:l,handleKey:j,i18n:c,usbJoystickOn:n,usbStickAlertOn:s}}});c("674a");P.render=h,P.__scopeId="data-v-0e102768";t["a"]=P},2779:function(e,t,c){"use strict";c("aa26")},3266:function(e,t,c){"use strict";c.r(t);var a=c("7a23"),n=Object(a["G"])("data-v-5d5c6775");Object(a["u"])("data-v-5d5c6775");var s={class:"u-content"},d=Object(a["g"])("i",{class:"fa fa-eye"},null,-1),i=Object(a["g"])("span",{style:{float:"right",color:"black"}},[Object(a["g"])("i",{class:"fa fa-cog"})],-1),o=Object(a["g"])("i",{class:"fa fa-gamepad"},null,-1),r={class:"visionVideos"},l={class:"innerWrap"},b={class:"videoBlock"},u={class:"innerWrap"},O={class:"videoBlock"},j={class:"innerWrap"},v={class:"videoBlock"},f={class:"innerWrap"},k={class:"videoBlock"},y={class:"innerWrap"},w={class:"videoBlock"},p={class:"innerWrap"};Object(a["s"])();var g=n((function(e,t,c,g,m,A){var h=Object(a["y"])("router-link"),S=Object(a["y"])("virtual-gamepad"),P=Object(a["y"])("ai-switch-button"),x=Object(a["y"])("video-projection-stream"),J=Object(a["y"])("video-stream");return Object(a["r"])(),Object(a["d"])("div",s,[Object(a["g"])("h2",null,[d,Object(a["f"])(" | "+Object(a["A"])(e.i18n.$t("Vision"))+" ",1),Object(a["g"])(h,{to:"/visiontest"},{default:n((function(){return[i]})),_:1}),Object(a["g"])("span",{style:[{float:"right",color:"gray","margin-right":"20px"},e.gamepadOn?"color: green;":""],onClick:t[1]||(t[1]=function(t){return e.gamepadOn=!e.gamepadOn})},[o],4)]),Object(a["g"])(S,{style:{"z-index":"1000"},onStickUpdate:e.handleStickData,onKeyUpdate:e.handleActionData,keyboardJoystickOn:e.gamepadOn},null,8,["onStickUpdate","onKeyUpdate","keyboardJoystickOn"]),Object(a["g"])("div",r,[Object(a["g"])("div",l,[Object(a["g"])("div",b,[Object(a["g"])("div",u,[Object(a["g"])(P,{class:"left",aiSelection:e.mqtt.data.vision.aiMode,camId:"cam3",resetSelection:"MNFH",onUpdate:e.aiButtonUpdate},null,8,["aiSelection","onUpdate"]),"cam3"!==e.mqtt.data.vision.aiMode?(Object(a["r"])(),Object(a["d"])(x,{key:0,wsAddress:e.wsRootAddress+"cam3",size:400,offset:32,fov:2},null,8,["wsAddress"])):(Object(a["r"])(),Object(a["d"])(J,{key:1,wsAddress:e.wsRootAddress+"human"},null,8,["wsAddress"]))])]),Object(a["g"])("div",O,[Object(a["g"])("div",j,[Object(a["g"])(P,{class:"left",aiSelection:e.mqtt.data.vision.aiMode,camId:"cam1",resetSelection:"MNFH",onUpdate:e.aiButtonUpdate},null,8,["aiSelection","onUpdate"]),"cam1"!==e.mqtt.data.vision.aiMode?(Object(a["r"])(),Object(a["d"])(x,{key:0,wsAddress:e.wsRootAddress+"cam1",size:400,offset:32,fov:2},null,8,["wsAddress"])):(Object(a["r"])(),Object(a["d"])(J,{key:1,wsAddress:e.wsRootAddress+"human"},null,8,["wsAddress"]))])]),Object(a["g"])("div",v,[Object(a["g"])("div",f,[Object(a["g"])(P,{class:"left",aiSelection:e.mqtt.data.vision.aiMode,camId:"cam4",resetSelection:"MNFH",onUpdate:e.aiButtonUpdate},null,8,["aiSelection","onUpdate"]),"cam4"!==e.mqtt.data.vision.aiMode?(Object(a["r"])(),Object(a["d"])(x,{key:0,wsAddress:e.wsRootAddress+"cam4",size:400,offset:32,fov:2},null,8,["wsAddress"])):(Object(a["r"])(),Object(a["d"])(J,{key:1,wsAddress:e.wsRootAddress+"human"},null,8,["wsAddress"]))])]),Object(a["g"])("div",k,[Object(a["g"])("div",y,[Object(a["g"])(P,{class:"left",aiSelection:e.mqtt.data.vision.aiMode,camId:"cam2",resetSelection:"MNFH",onUpdate:e.aiButtonUpdate},null,8,["aiSelection","onUpdate"]),"cam2"!==e.mqtt.data.vision.aiMode?(Object(a["r"])(),Object(a["d"])(J,{key:0,wsAddress:e.wsRootAddress+"cam2"},null,8,["wsAddress"])):(Object(a["r"])(),Object(a["d"])(J,{key:1,wsAddress:e.wsRootAddress+"human"},null,8,["wsAddress"]))])]),Object(a["g"])("div",w,[Object(a["g"])("div",p,[Object(a["g"])(P,{class:"left",aiSelection:e.mqtt.data.vision.aiMode,camId:"cam5",resetSelection:"MNFH",onUpdate:e.aiButtonUpdate},null,8,["aiSelection","onUpdate"]),"cam5"!==e.mqtt.data.vision.aiMode?(Object(a["r"])(),Object(a["d"])(J,{key:0,wsAddress:e.wsRootAddress+"cam5"},null,8,["wsAddress"])):(Object(a["r"])(),Object(a["d"])(J,{key:1,wsAddress:e.wsRootAddress+"human"},null,8,["wsAddress"]))])])])])])})),m=(c("d3b7"),c("cfc3"),c("9a8c"),c("a975"),c("735e"),c("c1ac"),c("d139"),c("3a7b"),c("d5d6"),c("82f8"),c("e91f"),c("60bd"),c("5f96"),c("3280"),c("3fcc"),c("ca91"),c("25a1"),c("cd26"),c("3c5d"),c("2954"),c("649e"),c("219c"),c("170b"),c("b39a"),c("72f7"),c("3616")),A=c("3bfa"),h=c("0e65"),S=c("b2f7"),P=c("257b"),x=Object(a["G"])("data-v-f2fc57b0");Object(a["u"])("data-v-f2fc57b0");var J={key:0,style:{color:"orange"}},U={key:1,class:"fa fa-globe",style:{color:"green"}};Object(a["s"])();var B=x((function(e,t,c,n,s,d){return Object(a["r"])(),Object(a["d"])("div",{class:"aiSwitchButton",onClick:t[1]||(t[1]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)})},[e.aiSelection===e.camId?(Object(a["r"])(),Object(a["d"])("span",J,"AI")):(Object(a["r"])(),Object(a["d"])("i",U))])})),C=Object(a["h"])({name:"AiSwitchButton",props:{camId:String,aiSelection:String,resetSelection:String},setup:function(e,t){var c=function(){e.aiSelection===e.camId?t.emit("update",e.resetSelection):t.emit("update",e.camId)};return{handleClick:c}}});c("2779");C.render=B,C.__scopeId="data-v-f2fc57b0";var R=C,M=Object(a["h"])({name:"Vision",components:{VirtualGamepad:P["a"],VideoProjectionStream:h["a"],VideoStream:S["a"],AiSwitchButton:R},setup:function(){var e=m["a"].use(),t=A["a"].use(),c=Object(a["w"])(!1),n=Object(a["w"])("cam1"),s=Object(a["w"])(""),d="https:"===window.location.protocol?"wss://":"ws://";s.value=d+window.location.host+"/";var i=function(e){t.publish("vision/ai_mode",e,{qos:1,retain:!0})},o=function(e){var c=new Float32Array(4);c[0]=e.lx,c[1]=e.rx,c[2]=e.ry,c[3]=e.ly,t.publish("controller/stick",c.buffer,{qos:0})},r=function(e){console.log(e),t.publish("controller/action",e,{qos:1})};return Object(a["p"])((function(){t.subscribe("vision/ai_mode",{qos:1})})),Object(a["n"])((function(){t.unsubscribe("vision/ai_mode")})),{i18n:e,mqtt:t,wsRootAddress:s,aiSelection:n,aiButtonUpdate:i,handleStickData:o,handleActionData:r,gamepadOn:c}}});c("eb12");M.render=g,M.__scopeId="data-v-5d5c6775";t["default"]=M},"4f85":function(e,t,c){},"674a":function(e,t,c){"use strict";c("4f85")},aa26:function(e,t,c){},eb12:function(e,t,c){"use strict";c("0f98")}}]);
//# sourceMappingURL=chunk-af2f1c00.88132662.js.map